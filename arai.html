<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ARAI - Arduino Assistant</title>
<style>
  body {
    background-color: #121212;
    color: #eee;
    font-family: 'Inter', sans-serif;
    padding: 20px;
    max-width: 700px;
    margin: auto;
  }
  button {
    background-color: #333;
    color: white;
    border: none;
    border-radius: 20px;
    padding: 10px 20px;
    margin: 5px 5px 0 0;
    cursor: pointer;
    font-weight: bold;
  }
  button:hover {
    background-color: #555;
  }
  #output {
    white-space: pre-wrap;
    background-color: #222;
    padding: 15px;
    border-radius: 12px;
    min-height: 120px;
    margin-bottom: 20px;
    font-size: 1.1em;
  }
  #choices {
    margin-bottom: 20px;
  }
  #backBtn {
    display: none;
  }
</style>
</head>
<body>

<h1>ARAI 🤖 - Your Arduino Project Assistant</h1>

<div id="output"></div>
<div id="choices"></div>
<button id="backBtn">🔙 Back to Main Menu</button>

<script>
  const output = document.getElementById('output');
  const choices = document.getElementById('choices');
  const backBtn = document.getElementById('backBtn');

  // Yavaş yazdırma fonksiyonu
  function slowPrint(text, delay = 30, callback) {
    output.textContent = '';
    let i = 0;
    function printChar() {
      if (i < text.length) {
        output.textContent += text.charAt(i);
        i++;
        setTimeout(printChar, delay);
      } else if (callback) {
        callback();
      }
    }
    printChar();
  }

  // Ana menü gösterimi
  function showMainMenu() {
    backBtn.style.display = 'none';
    choices.innerHTML = '';
    slowPrint(
`Hello! I'm ARAI 🤖 Your Arduino project assistant.

Is Arduino IDE installed on your computer? (installed/not installed)
Please choose an option below:`
    , 20, () => {
      choices.innerHTML = `
        <button onclick="handleIDE('installed')">Installed</button>
        <button onclick="handleIDE('not installed')">Not Installed</button>
      `;
    });
  }

  // Arduino IDE sorusuna cevap
  function handleIDE(answer) {
    choices.innerHTML = '';
    if(answer === 'not installed') {
      slowPrint("No worries! You can download it here: https://www.arduino.cc/en/software 😊\n\nPlease install Arduino IDE and then come back to continue. 🚀");
      backBtn.style.display = 'inline-block';
    } else {
      slowPrint("Great! Let's continue. 🎉\n\nWhat would you like to do? Choose a number:", 20, () => {
        choices.innerHTML = `
          <button onclick="selectProject('1')">1️⃣ Blink an LED</button>
          <button onclick="selectProject('2')">2️⃣ Control LED with a button</button>
          <button onclick="selectProject('3')">3️⃣ Measure temperature with DHT11</button>
        `;
      });
      backBtn.style.display = 'inline-block';
    }
  }

  // Proje seçimi
  function selectProject(num) {
    choices.innerHTML = '';
    let materials = "";
    let circuit = "";
    let codeLines = [];

    if(num === '1') {
      materials =
`Materials needed:
🔹 Arduino Uno or compatible board
🔹 LED
🔹 220Ω resistor
🔹 Jumper wires
🔹 Breadboard (optional)`;
      circuit =
`Circuit connection steps:
1️⃣ Connect the LED's long leg to Arduino pin 13 🔌
2️⃣ Connect the LED's short leg through a 220Ω resistor to GND ⚡️`;
      codeLines = [
        "// LED Blink Example",
        "int ledPin = 13;",
        "",
        "void setup() {",
        "  pinMode(ledPin, OUTPUT);",
        "}",
        "",
        "void loop() {",
        "  digitalWrite(ledPin, HIGH); // Turn LED on",
        "  delay(1000);",
        "  digitalWrite(ledPin, LOW);  // Turn LED off",
        "  delay(1000);",
        "}"
      ];
    } else if(num === '2') {
      materials =
`Materials needed:
🔹 Arduino Uno or compatible board
🔹 LED
🔹 220Ω resistor
🔹 Button
🔹 Jumper wires
🔹 Breadboard (optional)`;
      circuit =
`Circuit connection steps:
1️⃣ Connect one button leg to Arduino pin 2 🔘
2️⃣ Connect the other button leg to GND
3️⃣ Connect LED's long leg to Arduino pin 13 🔌
4️⃣ Connect LED's short leg through 220Ω resistor to GND ⚡️`;
      codeLines = [
        "// Control LED with Button",
        "int ledPin = 13;",
        "int buttonPin = 2;",
        "int buttonState = 0;",
        "",
        "void setup() {",
        "  pinMode(ledPin, OUTPUT);",
        "  pinMode(buttonPin, INPUT);",
        "}",
        "",
        "void loop() {",
        "  buttonState = digitalRead(buttonPin);",
        "  if (buttonState == HIGH) {",
        "    digitalWrite(ledPin, HIGH);",
        "  } else {",
        "    digitalWrite(ledPin, LOW);",
        "  }",
        "}"
      ];
    } else if(num === '3') {
      materials =
`Materials needed:
🔹 Arduino Uno or compatible board
🔹 DHT11 Temperature & Humidity sensor
🔹 Jumper wires
🔹 Breadboard (optional)`;
      circuit =
`Circuit connection steps:
1️⃣ Connect DHT11 VCC to 5V 🔋
2️⃣ Connect GND to GND
3️⃣ Connect data pin to Arduino pin 2 📡`;
      codeLines = [
        "// Measure temperature with DHT11 (requires DHT library)",
        "#include <DHT.h>",
        "",
        "#define DHTPIN 2",
        "#define DHTTYPE DHT11",
        "",
        "DHT dht(DHTPIN, DHTTYPE);",
        "",
        "void setup() {",
        "  Serial.begin(9600);",
        "  dht.begin();",
        "}",
        "",
        "void loop() {",
        "  float h = dht.readHumidity();",
        "  float t = dht.readTemperature();",
        "",
        "  if (isnan(h) || isnan(t)) {",
        "    Serial.println(\"Failed to read from sensor!\");",
        "    return;",
        "  }",
        "",
        "  Serial.print(\"Humidity: \");",
        "  Serial.print(h);",
        "  Serial.print(\" %\\t\");",
        "  Serial.print(\"Temperature: \");",
        "  Serial.print(t);",
        "  Serial.println(\" *C\");",
        "  delay(2000);",
        "}"
      ];
    } else {
      slowPrint("Sorry, that option is not supported yet. 😔", 20, showMainMenu);
      return;
    }

    backBtn.style.display = 'inline-block';

    slowPrint(materials + "\n\n" + circuit + "\n\nWriting your Arduino code line by line... 🤖\n", 20, () => {
      let index = 0;
      function printNextLine() {
        if(index < codeLines.length) {
          output.textContent += codeLines[index] + "\n";
          index++;
          setTimeout(printNextLine, 150);
        } else {
          setTimeout(showEndingMessage, 500);
        }
      }
      printNextLine();
    });
  }

  // Kapanış mesajı
  function showEndingMessage() {
    slowPrint(
`\nYour project is ready! 🎉

Is there anything else I can help you with? Feel free to ask! 😊`, 30);

    choices.innerHTML = `
      <button onclick="showMainMenu()">🔙 Back to Main Menu</button>
    `;
    backBtn.style.display = 'none';
  }

  // Back button event
  backBtn.addEventListener('click', () => {
    showMainMenu();
  });

  // Sayfa yüklendiğinde ana menüyü göster
  window.onload = function() {
    showMainMenu();
  };
</script>

</body>
</html>

