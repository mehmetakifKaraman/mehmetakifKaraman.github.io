<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ARAI - Arduino Assistant</title>
<style>
  body {
    background: #121212;
    color: #eee;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 20px;
  }
  #app {
    max-width: 600px;
    margin: 0 auto;
  }
  #output {
    white-space: pre-wrap;
    min-height: 300px;
    font-family: monospace;
    margin-bottom: 20px;
    background: #222;
    padding: 15px;
    border-radius: 10px;
    box-shadow: 0 0 10px #000;
  }
  #choices button {
    margin: 5px;
    padding: 10px 16px;
    border-radius: 20px;
    border: none;
    cursor: pointer;
    background: #333;
    color: #eee;
    font-weight: 600;
    transition: background 0.3s ease;
  }
  #choices button:hover {
    background: #555;
  }
  #backBtn {
    display: none;
    margin-top: 15px;
    padding: 10px 20px;
    border-radius: 20px;
    background-color: #333;
    color: white;
    border: none;
    cursor: pointer;
  }
  #backBtn:hover {
    background-color: #555;
  }

  /* Sağ üst köşede My Site butonu */
  #mySiteBtn {
    position: fixed;
    top: 15px;
    right: 15px;
    background: rgba(0,0,0,0.6);
    color: white;
    border-radius: 20px;
    padding: 8px 16px;
    font-weight: bold;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    cursor: pointer;
    user-select: none;
    z-index: 1000;
    text-decoration: none;
    transition: background-color 0.3s ease;
  }
  #mySiteBtn:hover {
    background-color: rgba(0,0,0,0.85);
  }

  /* RGB dönen renk animasyonu */
  @keyframes rgbShift {
    0% { color: red; }
    33% { color: green; }
    66% { color: blue; }
    100% { color: red; }
  }
  .rgb-animated {
    animation: rgbShift 3s linear infinite;
    font-weight: bold;
  }

  /* Link stil ayarı */
  a.no-underline {
    color: inherit;
    text-decoration: none;
  }
  a.no-underline:hover {
    text-decoration: underline;
  }
</style>
</head>
<body>

<!-- Sağ üst köşedeki kendi sitene giden buton -->
<a id="mySiteBtn" href="https://mehmetakifkaraman.github.io/" target="_blank" rel="noopener noreferrer">
  Ana Menü
</a>

<div id="app">
  <div id="output"></div>
  <div id="choices"></div>
  <button id="backBtn">🔙 Back to Main Menu</button>
</div>

<script>
  const output = document.getElementById('output');
  const choices = document.getElementById('choices');
  const backBtn = document.getElementById('backBtn');

  // HTML destekleyen yavaş yazdırma fonksiyonu
  async function slowPrintHTML(html) {
    output.innerHTML = '';  // Önce temizle
    return new Promise(resolve => {
      output.innerHTML = html;
      window.scrollTo(0, document.body.scrollHeight);
      setTimeout(resolve, 100); // Hemen değil biraz bekle
    });
  }

  // Basit metin yavaş yazdırma (char by char)
  async function slowPrint(text, delay = 30) {
    output.textContent = '';
    for (let i = 0; i < text.length; i++) {
      output.textContent += text[i];
      window.scrollTo(0, document.body.scrollHeight);
      await new Promise(r => setTimeout(r, delay));
    }
  }

  // Ana menüyü göster
  function showMainMenu() {
    slowPrint("What would you like to do? Choose a number:\n1️⃣ Blink an LED\n2️⃣ Control LED with a button\n3️⃣ Measure temperature with DHT11");
    choices.innerHTML = `
      <button onclick="selectProject('1')">1️⃣ Blink an LED</button>
      <button onclick="selectProject('2')">2️⃣ Control LED with a button</button>
      <button onclick="selectProject('3')">3️⃣ Measure temperature with DHT11</button>
    `;
    backBtn.style.display = 'none';
  }

  backBtn.addEventListener('click', () => {
    showMainMenu();
  });

  // Seçilen projeye göre gösterim
  async function selectProject(choice) {
    backBtn.style.display = 'inline-block';

    if(choice === '1') {
      await slowPrint(
`Materials needed:
🔹 Arduino Uno or compatible board
🔹 LED
🔹 220Ω resistor
🔹 Jumper wires
🔹 Breadboard (optional)

Circuit connection steps:
1️⃣ Connect the LED's long leg to Arduino pin 13 🔌
2️⃣ Connect the LED's short leg through a 220Ω resistor to GND ⚡️
`);
      await slowPrint("\nCode:\n");
      const code = 
`// LED Blink Example
int ledPin = 13;

void setup() {
  pinMode(ledPin, OUTPUT);
}

void loop() {
  digitalWrite(ledPin, HIGH); // Turn LED on
  delay(1000);
  digitalWrite(ledPin, LOW);  // Turn LED off
  delay(1000);
}`;
      for(let line of code.split('\n')) {
        await slowPrint(line+'\n', 40);
      }
    }
    else if(choice === '2') {
      await slowPrint(
`Materials needed:
🔹 Arduino Uno or compatible board
🔹 LED
🔹 220Ω resistor
🔹 Button
🔹 Jumper wires
🔹 Breadboard (optional)

Circuit connection steps:
1️⃣ Connect one button leg to Arduino pin 2 🔘
2️⃣ Connect the other button leg to GND
3️⃣ Connect LED's long leg to Arduino pin 13 🔌
4️⃣ Connect LED's short leg through 220Ω resistor to GND ⚡️
`);
      await slowPrint("\nCode:\n");
      const code =
`// Control LED with Button
int ledPin = 13;
int buttonPin = 2;
int buttonState = 0;

void setup() {
  pinMode(ledPin, OUTPUT);
  pinMode(buttonPin, INPUT);
}

void loop() {
  buttonState = digitalRead(buttonPin);
  if (buttonState == HIGH) {
    digitalWrite(ledPin, HIGH);
  } else {
    digitalWrite(ledPin, LOW);
  }
}`;
      for(let line of code.split('\n')) {
        await slowPrint(line+'\n', 40);
      }
    }
    else if(choice === '3') {
      await slowPrint(
`Materials needed:
🔹 Arduino Uno or compatible board
🔹 DHT11 Temperature & Humidity sensor
🔹 Jumper wires
🔹 Breadboard (optional)

Circuit connection steps:
1️⃣ Connect DHT11 VCC to 5V 🔋
2️⃣ Connect GND to GND
3️⃣ Connect data pin to Arduino pin 2 📡
`);
      await slowPrint("\nCode:\n");
      const code =
`// Measure temperature with DHT11 (requires DHT library)
#include <DHT.h>

#define DHTPIN 2
#define DHTTYPE DHT11

DHT dht(DHTPIN, DHTTYPE);

void setup() {
  Serial.begin(9600);
  dht.begin();
}

void loop() {
  float h = dht.readHumidity();
  float t = dht.readTemperature();

  if (isnan(h) || isnan(t)) {
    Serial.println("Failed to read from sensor!");
    return;
  }

  Serial.print("Humidity: ");
  Serial.print(h);
  Serial.print(" %\t");
  Serial.print("Temperature: ");
  Serial.print(t);
  Serial.println(" *C");
  delay(2000);
}`;
      for(let line of code.split('\n')) {
        await slowPrint(line+'\n', 40);
      }
    }

    // Arduino IDE link ve kapanış mesajı, RGB renkli ve tıklanabilir
    await slowPrintHTML(
      `<br>💻 Do you have Arduino IDE installed? (yes/no)<br>` +
      `👉 If not, download it here: ` +
      `<a href="https://www.arduino.cc/en/software" target="_blank" class="rgb-animated no-underline">https://www.arduino.cc/en/software</a><br><br>` +
      `Anything else you want help with? 😊`
    );
  }

  // Sayfa yüklendiğinde ana menüyü göster
  window.onload = showMainMenu;
</script>

</body>
</html>
